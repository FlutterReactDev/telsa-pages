(this["webpackJsonp@tesla/test-drive-ui"]=this["webpackJsonp@tesla/test-drive-ui"]||[]).push([[0],{154:function(e,t,a){e.exports=a.p+"static/media/models.75ebfce8.jpg"},155:function(e,t,a){e.exports=a.p+"static/media/model3.a6e39461.jpg"},156:function(e,t,a){e.exports=a.p+"static/media/modelx.1fa3121e.jpg"},157:function(e,t,a){e.exports=a.p+"static/media/modely.6bf3f4ce.jpg"},158:function(e,t,a){e.exports=a.p+"static/media/model3_cn.db3014a3.jpg"},159:function(e,t,a){e.exports=a.p+"static/media/tesla-t-red.434cf521.png"},161:function(e,t,a){e.exports=a.p+"static/media/icon-error.e9d18a32.png"},170:function(e,t,a){e.exports=a(296)},175:function(e,t,a){},293:function(e,t,a){},294:function(e,t,a){},296:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),l=a(80),r=a.n(l),o=(a(175),a(23)),c=a.n(o),s=a(317),u=a(163),d=a(100),m=a(15),p=a(21),v=a(29),h=a(5),f=a(6),E=a(7),b=a(8),g=a(319),y=a(103),O=a.n(y),D=a(28),S=a(316),w=a(311),L=a(105),_=a(25),C=a(87),k=a(164),N=a(108),M=a(10);function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("undefined"===typeof e)return"";var n=e,i=e.match(/(## ?[A-Z|_]{1,} ?##)/g);if(i){var l=i.map((function(e){return e.replace(/(##)/g,"").replace(/(\s)/g,"")}));Object.entries(t).forEach((function(e){var t=Object(M.a)(e,2),r=t[0],o=t[1],c=l.indexOf(r),s=o;a&&(s=" ".concat(a[0]).concat(o).concat(a[1])),c>=0&&(n=n.replace(i[c],s))}))}return n}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=['<a href="'.concat(a,'" class="').concat(n.join(""),'" target="_blank">'),"</a>"];return j(e,t,i)}var A=function(){return c()(window,"tesla.App.locale","en_US")},R=function(){return c()(window,"tesla.App.country","US")},I=function(e,t){return e.replace(/{([a-z]+)}/i,(function(e,a){return t[a]||e}))},U=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=c()(window,"tesla.App.strings['Test_Drive/All'].content.".concat(e),"");return"string"===typeof a?I(a,t):a},x=(Object(_.objectOf)(_.string),Object(_.objectOf)(Object(_.arrayOf)(_.string)),Object(_.objectOf)(_.string),_.object,_.bool,_.bool,_.bool,_.bool,_.func,_.func,_.func,{countryList:null,cityList:null,provinceList:null,form:[],showECheckbox:!1,showGetUpdates:!1,eCheckboxDefault:!1,getUpdatesDefault:!1,postalCodeValidate:function(){},emailValidate:function(){},phoneValidate:function(){}}),V=a(104),P=a(150),B=a(3),F={NEXT_STEP:"NEXT_STEP",SHOW_ERROR:"SHOW_ERROR",FINDUS_NEXT_STEP:"FINDUS_NEXT_STEP",APPOINTMENT_RESCHEDULED:"APPOINTMENT_RESCHEDULED",SELECT_MODEL:"SELECT_MODEL",MODEL_S:"ModelS",MODEL_X:"ModelX",MODEL_3:"Model3",MODEL_Y:"ModelY",MODEL_S_LBL:"Model S",MODEL_X_LBL:"Model X",MODEL_3_LBL:"Model 3",MODEL_Y_LBL:"Model Y",RESOURCE_BASE_URL:"undefined"!==typeof window.tesla?window.tesla.resourceBaseUrl:"",AGE_TO_DRIVE:{GB:25,IL:24,US:18},ALLOWED_FILE_TYPES:["image/png","image/jpeg","image/jpg","application/pdf"],ALLOWED_PREVIEW_FILE_TYPES:["image/png","image/jpeg","image/jpg"]};function G(){return F}var Y,q,H={showGenericDriversLicenseCopy:["AT","BE","CH","CZ","DK","DE","EU","GR","ES","FI","FR","HR","IE","IL","IS","IT","LU","NL","NO","PL","PT","SI","SE","MX"],showMinimumAgeToDrive:["US","DK","GB","IS","IL"],hideGetUpdates:["FI"],defaultGetUpdates:["US"],showECheckbox:["US","CA"],defaultECheckbox:[],showNoTestDriveAvailable:["US","CA"],showWaiver:!1,showAdditionalQuestions:!1,showTradeinSection:["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IS","IE","IT","KZ","LV","LI","LT","LU","MT","MC","NL","NO","EU","PL","PT","RO","RU","RS","SK","SI","ES","SE","CH","TR","UA","GB","JO","ZA"],showQRCode:["CN"],notTouchlessHeader:["HK","MO"],useGrowingIO:["CN"],hideBackLicense:!1,defaultToMY:["BE","CZ","DK","DE","GR","ES","FR","HR","HU","IS","IT","LU","NL","NO","AT","PL","PT","RO","SI","CH","SE","FI","EU","JO","CN","TW","JO","HK","MO","KR","AE"],defaultToM3:["CA","US"],availableModels:{default:[G().MODEL_S,G().MODEL_3,G().MODEL_X],AE:[G().MODEL_3,G().MODEL_Y],AT:[G().MODEL_3,G().MODEL_Y],AU:[G().MODEL_3,G().MODEL_Y],BE:[G().MODEL_3,G().MODEL_Y],CA:[G().MODEL_S,G().MODEL_3,G().MODEL_X,G().MODEL_Y],CH:[G().MODEL_3,G().MODEL_Y],CN:[G().MODEL_3,G().MODEL_Y],CZ:[G().MODEL_3,G().MODEL_Y],DE:[G().MODEL_3,G().MODEL_Y],DK:[G().MODEL_3,G().MODEL_Y],ES:[G().MODEL_3,G().MODEL_Y],EU:[G().MODEL_3],FI:[G().MODEL_3,G().MODEL_Y],FR:[G().MODEL_3,G().MODEL_Y],HK:[G().MODEL_3,G().MODEL_Y],HU:[G().MODEL_3,G().MODEL_Y],GB:[G().MODEL_3,G().MODEL_Y],GR:[G().MODEL_3,G().MODEL_Y],HR:[G().MODEL_3,G().MODEL_Y],IE:[G().MODEL_3,G().MODEL_Y],IL:[G().MODEL_3,G().MODEL_Y],IS:[G().MODEL_3,G().MODEL_Y],IT:[G().MODEL_3,G().MODEL_Y],JP:[G().MODEL_3,G().MODEL_Y],KR:[G().MODEL_3,G().MODEL_Y],LU:[G().MODEL_3,G().MODEL_Y],MO:[G().MODEL_3,G().MODEL_Y],MX:[G().MODEL_3],NL:[G().MODEL_3,G().MODEL_Y],NO:[G().MODEL_3,G().MODEL_Y],NZ:[G().MODEL_3,G().MODEL_Y],PL:[G().MODEL_3,G().MODEL_Y],PR:[G().MODEL_3],PT:[G().MODEL_3,G().MODEL_Y],RO:[G().MODEL_3,G().MODEL_Y],SE:[G().MODEL_3,G().MODEL_Y],SI:[G().MODEL_3,G().MODEL_Y],SG:[G().MODEL_3],US:[G().MODEL_S,G().MODEL_3,G().MODEL_X,G().MODEL_Y]}},Q=Object(v.a)(Object(v.a)({},(Y=H,q=R(),Object.keys(Y).reduce((function(e,t){var a=!1,n=Y[t];return Array.isArray(n)?a=n.indexOf(q)>=0:n instanceof Object?a=n[q]||n.default||null:"boolean"===typeof n&&(a=n),Object(v.a)(Object(v.a)({},e),{},Object(B.a)({},t,a))}),{}))),c()(window,"tesla.App.flags",{})),W={formsSection:{containerClass:"show"},carSection:{containerClass:"show",model:Q.defaultToM3&&Q.availableModels.includes(G().MODEL_3)?G().MODEL_3:Q.defaultToMY&&Q.availableModels.includes(G().MODEL_Y)?G().MODEL_Y:Q.availableModels[0]||""},timeSection:{containerClass:"",data:null,model:null},confirmationSection:{containerClass:"",values:{}},errorSection:{containerClass:"",values:{}},driverlicenseSection:{containerClass:""},flags:Q},z=function(){return W},K=function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props,t=e.showECheckbox,a=e.showGetUpdates,n=e.eCheckboxDefault,l=e.getUpdatesDefault,r=e.form,o=Object(P.a)(R()).code,c="REME"===o||"REAP"===o?r.interestedPowerwall:r.interestedSolarPowerwall;return i.a.createElement("div",{className:"checkbox-group"},t?i.a.createElement(V.a,{name:"einterest",id:"interest-solar-powerwall",initialValue:n,label:c}):null,a&&i.a.createElement(V.a,{name:"getUpdates",initialValue:l,id:"get-updates",label:i.a.createElement("span",{className:"tds-label-title",dangerouslySetInnerHTML:{__html:r.getUpdates}})}))}}]),a}(n.Component);K.defaultProps=z().formsSection;var X=K,Z=function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props,t=e.countryList,a=e.form,n=e.postalCodeValidate,l=e.emailValidate,r=e.phoneValidate,o=R();return i.a.createElement("div",{className:"form-container"},i.a.createElement("div",{className:"input-flex-group"},i.a.createElement(C.a,{name:"firstName",label:a.firstName,id:"edit-firstname-td",required:!0}),i.a.createElement(C.a,{name:"lastName",label:a.lastName,id:"edit-lastname-td",required:!0})),i.a.createElement("div",{className:"input-flex-group"},i.a.createElement(C.a,{name:"email",label:a.email,validate:l,id:"edit-usermail-td",required:!0}),i.a.createElement(k.a,{name:"phone",label:a.phoneNr,autoComplete:"phone",initialValue:{country:o},validate:r,generateValidationMessage:function(){var e;return null===a||void 0===a||null===(e=a.error)||void 0===e?void 0:e.phoneInvalid},id:"edit-phonenumber-td",placeholder:""})),i.a.createElement("div",{className:"input-flex-group"},i.a.createElement(C.a,{name:"zip",label:a.zipCode,validate:n,id:"edit-zipcode-td",required:!0}),null==t?null:i.a.createElement(N.a,{name:"country",label:a.country,defaultValue:o,id:"edit-countries-td"},Object.keys(t).map((function(e){return i.a.createElement("option",{key:e,value:e},t[e])})))),i.a.createElement(X,this.props))}}]),a}(n.Component);Z.defaultProps=x;var J=Z,$=function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props,t=e.countryList,a=e.form,n=e.postalCodeValidate,l=e.phoneValidate,r=e.emailValidate,o=R();return i.a.createElement("div",{className:"form-container en-us"},i.a.createElement("div",{className:"input-flex-group"},i.a.createElement(C.a,{name:"firstName",label:a.firstName,id:"edit-firstname-td",required:!0}),i.a.createElement(C.a,{name:"lastName",label:a.lastName,id:"edit-lastname-td",required:!0})),i.a.createElement("div",{className:"input-flex-group"},i.a.createElement(N.a,{name:"contact",label:a.contactPref,id:"edit-method-of-contact-td"},i.a.createElement("option",{value:"phone"},"Phone"),i.a.createElement("option",{value:"email"},"Email")),i.a.createElement(k.a,{name:"phone",label:a.phoneNr,autoComplete:"phone",initialValue:{country:R()},validate:l,id:"edit-phonenumber-td",generateValidationMessage:function(){var e;return null===a||void 0===a||null===(e=a.error)||void 0===e?void 0:e.phoneInvalid},placeholder:""})),i.a.createElement("div",{className:"input-flex-group"},i.a.createElement(C.a,{name:"email",label:a.email,validate:r,id:"edit-usermail-td",required:!0}),t&&i.a.createElement(N.a,{name:"country",label:a.country,defaultValue:o,id:"edit-countries-td"},Object.keys(t).map((function(e){return i.a.createElement("option",{key:e,value:e},t[e])})))),i.a.createElement("div",{className:"input-flex-group"},i.a.createElement(C.a,{name:"zip",label:a.zipCode,validate:n,id:"edit-zipcode-td",required:!0}),i.a.createElement("div",null)),i.a.createElement(X,this.props))}}]),a}(n.Component);$.defaultProps=x;var ee=$,te=function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props,t=e.countryList,a=e.form,n=e.emailValidate,l=e.phoneValidate,r=R();return i.a.createElement("div",{className:"form-container"},i.a.createElement("div",{className:"input-flex-group"},i.a.createElement(C.a,{name:"firstName",label:a.firstName,id:"edit-firstname-td",required:!0}),i.a.createElement(C.a,{name:"lastName",label:a.lastName,id:"edit-lastname-td",required:!0})),i.a.createElement("div",{className:"input-flex-group"},i.a.createElement(C.a,{name:"email",label:a.email,required:!0,validate:n,id:"edit-usermail-td"}),i.a.createElement(k.a,{name:"phone",label:a.phoneNr,autoComplete:"phone",initialValue:{country:r},validate:l,generateValidationMessage:function(){var e;return null===a||void 0===a||null===(e=a.error)||void 0===e?void 0:e.phoneInvalid},id:"edit-phonenumber-td",placeholder:""})),i.a.createElement("div",{className:"input-flex-group"},t&&i.a.createElement(N.a,{name:"country",label:a.country,defaultValue:r,id:"edit-countries-td"},Object.keys(t).map((function(e){return i.a.createElement("option",{key:e,value:e},t[e])}))),i.a.createElement("div",null)),i.a.createElement(X,this.props))}}]),a}(n.Component);te.defaultProps=x;var ae=te,ne=function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props,t=e.countryList,a=e.form,n=e.emailValidate,l=e.phoneValidate,r=R();return i.a.createElement("div",{className:"form-container"},i.a.createElement("div",{className:"form-container"},i.a.createElement("div",{className:"input-flex-group"},i.a.createElement(C.a,{name:"firstName",label:a.firstName,id:"edit-firstname-td",required:!0}),i.a.createElement(C.a,{name:"lastName",label:a.lastName,id:"edit-lastname-td",required:!0})),i.a.createElement("div",{className:"input-flex-group"},i.a.createElement(C.a,{name:"email",label:a.email,validate:n,id:"edit-usermail-td",required:!0}),i.a.createElement(k.a,{name:"phone",label:a.phoneNr,autoComplete:"phone",initialValue:{country:R()},validate:l,generateValidationMessage:function(){var e;return null===a||void 0===a||null===(e=a.error)||void 0===e?void 0:e.phoneInvalid},id:"edit-phonenumber-td",placeholder:""})),i.a.createElement("div",{className:"input-flex-group"},t&&i.a.createElement(N.a,{name:"country",label:a.country,defaultValue:r,id:"edit-countries-td"},Object.keys(t).map((function(e){return i.a.createElement("option",{key:e,value:e},t[e])}))),i.a.createElement("div",null)),i.a.createElement(X,this.props)))}}]),a}(n.Component);ne.defaultProps=x;var ie=ne,le=function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props,t=e.countryList,a=e.form,n=e.postalCodeValidate,l=e.emailValidate,r=e.phoneValidate,o=R();return i.a.createElement("div",{className:"form-container"},i.a.createElement("div",{className:"input-flex-group"},i.a.createElement(C.a,{name:"localName",label:a.localName,id:"edit-localName-td",required:!0}),i.a.createElement(C.a,{name:"firstName",label:a.firstName,id:"edit-firstname-td",required:!0})),i.a.createElement("div",{className:"input-flex-group"},i.a.createElement(C.a,{name:"lastName",label:a.lastName,id:"edit-lastname-td",required:!0}),i.a.createElement(C.a,{name:"email",label:a.email,required:!0,id:"edit-usermail-td",validate:l})),i.a.createElement("div",{className:"input-flex-group"},i.a.createElement(k.a,{name:"phone",label:a.phoneNr,autoComplete:"phone",initialValue:{country:o},validate:r,generateValidationMessage:function(){var e;return null===a||void 0===a||null===(e=a.error)||void 0===e?void 0:e.phoneInvalid},id:"edit-phonenumber-td"}),i.a.createElement(C.a,{name:"zip",label:a.zipCode,required:!0,validate:n,id:"edit-zipcode-td",placeholder:""})),i.a.createElement("div",{className:"input-flex-group"},t&&i.a.createElement(N.a,{name:"country",label:a.country,defaultValue:o,id:"edit-countries-td"},Object.keys(t).map((function(e){return i.a.createElement("option",{key:e,value:e},t[e])}))),i.a.createElement("div",null)),i.a.createElement(X,this.props))}}]),a}(n.Component);le.defaultProps=x;var re=le,oe=a(9),ce=function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props,t=e.countryList,a=e.provinceList,n=e.cityList,l=e.form,r=e.emailValidate,o=e.phoneValidate,c=R();return i.a.createElement("div",{className:"form-container en-us"},i.a.createElement("div",{className:"input-flex-group"},i.a.createElement(C.a,{name:"localName",label:l.localName,id:"edit-localName-td",required:!0}),i.a.createElement(C.a,{name:"firstName",label:l.firstName,id:"edit-firstname-td",required:!0})),i.a.createElement("div",{className:"input-flex-group"},i.a.createElement(C.a,{name:"lastName",label:l.lastName,id:"edit-lastname-td",required:!0}),i.a.createElement(C.a,{name:"email",label:l.email,required:!0,id:"edit-usermail-td",validate:r})),i.a.createElement("div",{className:"input-flex-group"},i.a.createElement(k.a,{name:"phone",label:l.phoneNr,autoComplete:"phone",initialValue:{country:c},validate:o,generateValidationMessage:function(){var e;return null===l||void 0===l||null===(e=l.error)||void 0===e?void 0:e.phoneInvalid},id:"edit-phonenumber-td",placeholder:""}),a&&i.a.createElement(N.a,{name:"province",label:l.province,id:"select-province",required:!0,onChange:function(){document.getElementById("select-cities").value=""}},i.a.createElement("option",{value:"",defaultValue:!0},"\ub3c4"),Object.keys(a).map((function(e){return i.a.createElement("option",{key:e,value:e},a[e])})))),i.a.createElement("div",{className:"input-flex-group"},n&&i.a.createElement(N.a,{name:"cities",label:l.cities,id:"select-cities",required:!0},i.a.createElement("option",{value:""},"\ub3c4"),i.a.createElement(oe.d,null,(function(e){var t,a=null===e||void 0===e||null===(t=e.values)||void 0===t?void 0:t.province;return a?Object.keys(n[a]).map((function(e){return i.a.createElement("option",{key:e,value:n[a][e]},n[a][e])})):null}))),t&&i.a.createElement(N.a,{name:"country",label:l.country,defaultValue:c,id:"select-region"},Object.keys(t).map((function(e){return i.a.createElement("option",{key:e,value:e},t[e])})))),i.a.createElement(X,this.props))}}]),a}(n.Component);ce.defaultProps=x;var se=ce,ue=function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props,t=e.countryList,a=e.form,n=e.emailValidate,l=e.phoneValidate,r=R();return i.a.createElement("div",{className:"form-container"},i.a.createElement("div",{className:"input-flex-group"},i.a.createElement(C.a,{name:"firstName",label:a.firstName,id:"edit-firstname-td",required:!0}),i.a.createElement(C.a,{name:"lastName",label:a.lastName,id:"edit-lastname-td",required:!0})),i.a.createElement("div",{className:"input-flex-group"},i.a.createElement(C.a,{name:"email",label:a.email,required:!0,validate:n,id:"edit-usermail-td"}),i.a.createElement(k.a,{name:"phone",label:a.phoneNr,autoComplete:"phone",initialValue:{country:r},validate:l,generateValidationMessage:function(){var e;return null===a||void 0===a||null===(e=a.error)||void 0===e?void 0:e.phoneInvalid},id:"edit-phonenumber-td",placeholder:""})),i.a.createElement("div",{className:"input-flex-group"},t&&i.a.createElement(N.a,{name:"country",label:a.country,defaultValue:r,id:"edit-countries-td"},Object.keys(t).map((function(e){return i.a.createElement("option",{key:e,value:e},t[e])}))),i.a.createElement("div",null)),i.a.createElement(X,this.props))}}]),a}(n.Component);ue.defaultProps=x;var de=ue,me=function(e){if(e)return Array.isArray(e)?null===e||void 0===e?void 0:e.map((function(e){return i.a.createElement("span",{key:e},pe(e),i.a.createElement("br",null))})):pe(e)},pe=function(e){if(e){var t=e.split("###");return null===t||void 0===t?void 0:t.map((function(e){var t=e.split("##");return t&&t.length>1?i.a.createElement("a",{className:"tds-link",href:[t[1]]||!1,target:t[2]||"_blank",key:t},t[0]||""):i.a.createElement("span",{key:t},t)}))}},ve=function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props,t=e.provinceList,a=e.cityList,n=e.form,l=e.emailValidate,r=e.phoneValidate,o=R();return i.a.createElement("div",{className:"form-container en-us"},i.a.createElement("div",{className:"input-flex-group"},i.a.createElement(C.a,{name:"firstName",label:n.firstName,id:"edit-firstname-td",required:!0}),i.a.createElement(C.a,{name:"lastName",label:n.lastName,id:"edit-lastname-td",required:!0})),i.a.createElement("div",{className:"input-flex-group"},i.a.createElement(C.a,{name:"email",label:n.email,required:!0,validate:l,id:"edit-usermail-td"}),i.a.createElement(k.a,{name:"phone",label:n.phoneNr,autoComplete:"phone",initialValue:{country:o},validate:r,generateValidationMessage:function(){var e;return null===n||void 0===n||null===(e=n.error)||void 0===e?void 0:e.phoneInvalid},id:"edit-phonenumber-td",placeholder:""})),i.a.createElement("div",{className:"input-flex-group"},t&&i.a.createElement(N.a,{name:"province",label:n.province,id:"select-province",required:!0},i.a.createElement("option",{value:""},"\u7701\u4efd"),Object.keys(t).map((function(e){return i.a.createElement("option",{key:e,value:e},t[e])}))),a&&i.a.createElement(N.a,{name:"cities",label:n.cities,id:"select-cities",required:!0},i.a.createElement(oe.d,null,(function(e){var t,n=null===e||void 0===e||null===(t=e.values)||void 0===t?void 0:t.province;return i.a.createElement(i.a.Fragment,null,i.a.createElement("option",{value:""},"\u5e02\uff08\u533a\uff09"),";",n?Object.keys(a[n]).map((function(e){return i.a.createElement("option",{key:e,value:a[n][e]},a[n][e])})):null)})))),i.a.createElement(X,this.props),i.a.createElement("p",null,me(n.disclaimer2)))}}]),a}(n.Component);ve.defaultProps=x;var he=ve,fe=function(e){return i.a.createElement(ee,e)},Ee=function(e){return i.a.createElement(J,e)},be=function(e){return i.a.createElement(ae,e)},ge=function(e){return i.a.createElement(ie,e)},ye=function(e){return i.a.createElement(re,e)},Oe=function(e){return i.a.createElement(se,e)},De=function(e){return i.a.createElement(de,e)},Se=function(e){return i.a.createElement(he,e)};function we(){return{formUS:fe,formHK:be,formMO:ge,formJP:ye,formKR:Oe,formAE:De,formCN:Se,FormDefault:Ee}}var Le=a(39),_e=a.n(Le),Ce=a(55),ke=a(47),Ne=a.n(ke),Me=function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"getCountryData",value:function(){var e=Object(Ce.a)(_e.a.mark((function e(){var t,a,n;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=A(),a="",["zh_CN","ko_KR"].indexOf(t)>-1&&(a="&additional=true"),e.next=5,Ne.a.get("/cua-api/drive/country-data?locale=".concat(t).concat(a));case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getSchedule",value:function(){var e=Object(Ce.a)(_e.a.mark((function e(t){var a,n;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={trtIds:t.trtIds,model:t.model,locale_code:t.locale_code},e.next=3,Ne.a.post("/cua-api/drive/get_schedule",a);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"uploadFile",value:function(){var e=Object(Ce.a)(_e.a.mark((function e(t,a){var n,i;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",a),e.prev=2,e.next=5,Ne.a.post("/cua-api/drive/fileupload",n);case 5:return(i=e.sent).data.elem=t,e.abrupt("return",i.data);case 10:e.prev=10,e.t0=e.catch(2);case 12:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"getAppointmentDetails",value:function(){var e=Object(Ce.a)(_e.a.mark((function e(t,a){var n;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""!==t&&""!==a){e.next=4;break}return console.log("guid id or email is empty"),e.abrupt("return");case 4:return e.next=6,Ne.a.get("/cua-api/drive/appointment-details?guid=".concat(t,"&email=").concat(a));case 6:return n=e.sent,e.abrupt("return",n.data);case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(Ce.a)(_e.a.mark((function e(t,a){var n,i,l,r,o,c,s,u,d;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i in n={firstName:null,lastName:null,email:null,phone:null,country:null,locale_code:null,zip:null,einterest:null,getUpdates:null,model:null,anumber:null,snumber:null,campaign:null,trtIds:null,testDriveZip:null,contactPreference:null})""!==t[i]&&(n[i]=t[i]);if(l="regular",window.location.search.includes("model=")&&(r={ms:G().MODEL_S,mx:G().MODEL_X,m3:G().MODEL_3,my:G().MODEL_Y},l="model-spec",n.model=r[window.location.search.split("model=")[1]]),"undefined"!==typeof t.province&&(n.province=t.province),"undefined"!==typeof t.cities&&(n.cities=t.cities),"undefined"!==typeof t.localName&&(n.localName=t.localName),o={data:n,getData:a,path:l},t.setAppointmentId)for(c in t)""!==t[c]&&(o.data[c]=t[c]);return s=Ne.a.CancelToken.source(),u=setTimeout((function(){s.cancel("timeout")}),15e3),e.prev=11,e.next=14,Ne.a.post("/cua-api/drive/submit",o,{cancelToken:s.token});case 14:return d=e.sent,clearTimeout(u),e.abrupt("return",d.data);case 19:throw e.prev=19,e.t0=e.catch(11),new Error(e.t0);case 22:case"end":return e.stop()}}),e,null,[[11,19]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"rescheduleAppointment",value:function(){var e=Object(Ce.a)(_e.a.mark((function e(t){var a;return _e.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ne.a.post("/cua-api/drive/save-appointment",t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"submitMoreFiles",value:function(e,t){var a={aId:e,fileIds:t};return Ne.a.post("/cua-api/drive/submitMoreFiles",a)}}]),a}(n.Component),je=function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(e){var n;Object(h.a)(this,a),n=t.call(this,e),window.dataLayer&&window.dataLayer.push({event:"form-interaction",interaction:"view-open",formType:"Test Drive",engagementType:"User Requested"});var i=e.country;n.currForm=we()["form".concat(i)],"undefined"===typeof n.currForm&&(n.currForm=we().FormDefault);var l="undefined"!==typeof window.tesla?window.tesla.App.strings["Test_Drive/All"].content.form:{};return n.state={countryList:null,provinceList:null,cityList:null,form:l},n.CallHandler=new Me,n.CallHandler.getCountryData().then((function(e){var t=e.data,a=t.countryList,i=t.provinceList,l=t.cityList;n.setState({countryList:a,provinceList:i,cityList:l})})),n}return Object(f.a)(a,[{key:"handleSubmit",value:function(e){var t=this.props,a=t.useGrowingIO,n=t.handleFormValues,i=t.handleSubmit;window.dataLayer&&window.dataLayer.push({event:"form-interaction",interaction:"personal-info-complete",formType:"Test Drive",engagementType:"User Requested"}),a&&(gdp("track","web_testdrive_sub_click"),gdp("track","web_testdrive_pi_click")),n(e),i(e,"formsSection")}},{key:"postalCodeValidate",value:function(e){var t,a=this.props.country,n=this.state.form;return Object(L.validatePostalCode)(e,{countryCode:a})||null===n||void 0===n||null===(t=n.error)||void 0===t?void 0:t.postalcodeInvalid}},{key:"emailValidate",value:function(e){var t,a=this.state.form;return Object(L.validateEmail)(e)||null===a||void 0===a||null===(t=a.error)||void 0===t?void 0:t.emailInvalid}},{key:"phoneValidate",value:function(e){var t,a=this.state.form;return(null===e||void 0===e?void 0:e.number)||null===a||void 0===a||null===(t=a.error)||void 0===t?void 0:t.phoneInvalid}},{key:"render",value:function(){var e,t=this,a=this.currForm,n=this.props,l=n.containerClass,r=n.locale,o=n.showMinimumAgeToDrive,c=n.showGenericDriversLicenseCopy,s=n.country,u=n.showECheckbox,d=n.eCheckboxDefault,m=n.showGetUpdates,p=n.getUpdatesDefault,v=this.state,h=v.countryList,f=v.provinceList,E=v.cityList,b=v.form,g=[T(U("form.title2"),{LEARN_MORE:U("form.title2Lbl")},Object(D.a)("/support/test-drive",{locale:r}),["tds-link"])];c&&g.push(U("form.needsDriversLicenseGeneric")),o&&g.push(U("form.minimumAgeToDrive",{AGE:G().AGE_TO_DRIVE[s]||21}));var y=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("p",{className:"disclaimer-txt"},U("form.disclaimer")),i.a.createElement("div",{className:"btn-container-left"},i.a.createElement(w.a,{"data-section":"formsSection",id:"edit-submit-td-ajax0",type:"submit"},U("form.next"))),b.disclaimer3&&i.a.createElement("p",{className:"tds--vertical_padding--large"},me(U("form.disclaimer3"))))};return b.getUpdates&&(b.getUpdates="<a class='tds-link' target='_blank' href=\"".concat(Object(D.a)("/legal/tesla-updates",{locale:r}),'">').concat(b.getUpdates,"</a>")),i.a.createElement("div",{className:"content-container forms-container ".concat(l),style:{position:"relative",display:"show"===l?"block":"none"}},i.a.createElement("div",{className:"header-container"},i.a.createElement("h2",null,U("carSelection.contactInformation"))),i.a.createElement("div",{className:"forms-inner-container"},i.a.createElement(S.a,{onSubmit:function(e){return t.handleSubmit(e)},errorMessage:{required:null===b||void 0===b||null===(e=b.error)||void 0===e?void 0:e.required}},i.a.createElement(a,{countryList:h,provinceList:f,cityList:E,showECheckbox:u,showGetUpdates:m,eCheckboxDefault:d,getUpdatesDefault:p,form:b,postalCodeValidate:function(e){return t.postalCodeValidate(e)},emailValidate:function(e){return t.emailValidate(e)},phoneValidate:function(e){return t.phoneValidate(e)}}),i.a.createElement(y,null))))}}]),a}(n.Component);je.defaultProps={country:"US",useGrowingIO:!1,handleFormValues:function(){},handleSubmit:function(){},containerClass:_.string,locale:"en_US",showMinimumAgeToDrive:!1,showGenericDriversLicenseCopy:!1,showGetUpdates:!1,getUpdatesDefault:!1,showECheckbox:!1,eCheckboxDefault:!1};var Te,Ae=Object(p.b)((function(e){return{containerClass:e.formsSection.containerClass,locale:A(),country:R(),showMinimumAgeToDrive:e.flags.showMinimumAgeToDrive,showGenericDriversLicenseCopy:e.flags.showGenericDriversLicenseCopy,useGrowingIO:e.flags.useGrowingIO,showGetUpdates:!e.flags.hideGetUpdates,getUpdatesDefault:e.flags.defaultGetUpdates,showECheckbox:e.flags.showECheckbox,eCheckboxDefault:e.flags.defaultECheckbox}}))(je),Re=a(153),Ie=a.n(Re),Ue={name:(Te={},Object(B.a)(Te,G().MODEL_S,G().MODEL_S_LBL),Object(B.a)(Te,G().MODEL_X,G().MODEL_X_LBL),Object(B.a)(Te,G().MODEL_3,G().MODEL_3_LBL),Object(B.a)(Te,G().MODEL_Y,G().MODEL_Y_LBL),Te)},xe=a(154),Ve=a.n(xe),Pe=a(155),Be=a.n(Pe),Fe=a(156),Ge=a.n(Fe),Ye=a(157),qe=a.n(Ye),He=a(158),Qe=a.n(He),We={models_v2:Ve.a,model3_v2:Be.a,modelx_v2:Ge.a,modely_v2:qe.a,model3_v2_cn:Qe.a},ze=function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(e){var n;Object(h.a)(this,a),(n=t.call(this,e)).setBackDrop=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=n.state.model,a=n.elems[e||t];a&&n.setState({selState:{width:"".concat(a.clientWidth+6,"px"),height:"".concat(a.clientHeight+6,"px"),left:"".concat(a.offsetLeft,"px"),top:"".concat(a.offsetTop,"px")}})},n.handleModelSelect=function(e){var t=e.target.getAttribute("data-model");t&&(n.props.setModel(t),n.setState({model:t}),n.setBackDrop(t))};var i=e.selectedModel;return n.elems={},n.state={model:i,setState:{width:"100%"}},n}return Object(f.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setBackDrop(),window.addEventListener("resize",Ie()((function(){return e.setBackDrop()}),250))}},{key:"setModel",value:function(e){this._model=e}},{key:"getModel",value:function(){return this._model}},{key:"render",value:function(){var e=this,t=this.state.model,a=this.props,n=a.models,l=a.country,r=Ue.name,o=!1;return i.a.createElement("div",null,i.a.createElement("div",{className:"car-selection",onClick:this.handleModelSelect},n.map((function(a,n){o=a===t;var r=a.toLowerCase();return r+="_v2","model3"===a.toLowerCase()&&"CN"===l&&(r+="_cn"),i.a.createElement("div",{key:n,className:"car-model model-".concat(a.toLowerCase()).concat(o?" show":" hide"),"data-model":a,ref:function(t){e.elems[a]=t}},i.a.createElement("img",{src:G().RESOURCE_BASE_URL+We[r],alt:""}))})),n.length>1&&i.a.createElement("div",{className:"btn-container"},n.map((function(a,n){var l=(o=a===t)?"selectedButton":"";return i.a.createElement(w.a,{key:n,"data-model":a,"data-section":"carSection",className:"models tds-btn tds-btn--large ".concat(l),onClick:e.handleModelSelect.bind(e),autoFocus:o?"autofocus":null},r[a])})))))}}]),a}(n.Component),Ke=Object(p.b)((function(e){return{models:e.flags.availableModels,country:R()}}))(ze),Xe=function(e){var t=e.title,a=e.paragraphs.filter(Boolean);return i.a.createElement("div",{className:"header-container"},i.a.createElement("h1",null,t),a.map((function(e){return i.a.createElement("p",{className:"message",key:e,dangerouslySetInnerHTML:{__html:e}})})))};Xe.defaultProps={paragraphs:[]};var Ze=Xe,Je=function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(e){var n;Object(h.a)(this,a),n=t.call(this,e);var i=e.handleSelection,l=e.selectedModel;return n._model=l,i(n.getModel()),n}return Object(f.a)(a,[{key:"setModel",value:function(e){var t=this.props,a=t.handleSelection,n=t.useGrowingIO,i=t.setCurrentModel;window.dataLayer&&e!==this.getModel()&&window.dataLayer.push({event:"form-interaction",interaction:"vehicle-model-selected-".concat(e.toLowerCase()),formType:"Test Drive",engagementType:"User Requested"}),this._model=e,a(this.getModel()),i(e),n&&(gdp("track","web_testdrive_modeltype_click",{model_type:this.getModel()}),gdp("track","web_testdrive_model_click",{model_type:this.getModel()}))}},{key:"getModel",value:function(){return this._model}},{key:"render",value:function(){var e=this.props,t=e.locale,a=e.country,n=e.models,l=e.selectedModel,r=e.showGenericDriversLicenseCopy,o=e.showMinimumAgeToDrive,c=e.containerClass,s=Ue.name,u=U("form.".concat("title")).replace("##MODEL##",s[n[0]]),d=T(U("form.title2"),{LEARN_MORE:U("form.title2Lbl")},Object(D.a)("/support/test-drive",{locale:t}),["tds-link"]);return r&&(d+=" ".concat(U("form.needsDriversLicenseGeneric"))),o&&(d+=" ".concat(U("form.minimumAgeToDrive",{AGE:G().AGE_TO_DRIVE[a]||21}))),i.a.createElement("div",{className:"car-container".concat(c),style:{display:"show"===c?"block":"none"}},i.a.createElement(Ze,{title:u,paragraphs:[d]}),i.a.createElement(Ke,{setModel:this.setModel.bind(this),selectedModel:l}))}}]),a}(n.Component);Je.defaultProps={locale:"",country:"",models:[],selectedModel:"",showGenericDriversLicenseCopy:!1,showMinimumAgeToDrive:!1,containerClass:"",handleSelection:function(){},useGrowingIO:!1,setCurrentModel:function(){}};var $e=Object(p.b)((function(e){var t=e.flags,a=e.carSection;return{containerClass:a.containerClass,locale:A(),country:R(),models:t.availableModels,showGenericDriversLicenseCopy:t.showGenericDriversLicenseCopy,showMinimumAgeToDrive:t.showMinimumAgeToDrive,notTouchlessHeader:t.notTouchlessHeader,selectedModel:a.model,useGrowingIO:t.useGrowingIO}}),(function(e){return{setCurrentModel:function(t){return e({type:G().SELECT_MODEL,model:t})}}}))(Je),et=a(165),tt=a(312),at=a(314),nt=a(49),it=a.n(nt),lt=a(159),rt=a.n(lt),ot=function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).state={day:null,time:null,location:null,selectedDate:null,sortedFinalData:null,data:null,showLoader:!1,currentLocationID:null},n.handleData(),n}return Object(f.a)(a,[{key:"handleLocationChange",value:function(e){var t,a,n,i=this.props,l=i.useGrowingIO,r=i.logGDP,o=i.updateValue;l&&r&&gdp("track","web_testdrive_store_click",{drive_store:e.value});var c=e.value,s=A();this.setLocation(c),this.setCurrentLocationID(c);var u=this.state.data;if(void 0!==(null===(t=u[c])||void 0===t?void 0:t.appointmentTimeSlots)&&null==(null===(a=u[c])||void 0===a||null===(n=a.appointmentTimeSlots)||void 0===n?void 0:n.dates)){this.setState({loaderSuccess:"",loaderShow:"show"});var d={trtIds:c,model:this.props.model,locale_code:s};this.getSchedule(d)}else{var m;document.getElementById("location").setAttribute("class","item-container");var p,v,h=u[c],f=null,E=null;if(!(null===h||void 0===h||null===(m=h.storeDetails)||void 0===m?void 0:m.noAppointments))f=Object.keys(null===h||void 0===h||null===(p=h.appointmentTimeSlots)||void 0===p?void 0:p.times)[0],E=Object.keys(null===h||void 0===h||null===(v=h.appointmentTimeSlots)||void 0===v?void 0:v.times[f])[0];o("day",f),o("time",E),this.setState({day:f,time:E,selectedDate:new Date("".concat(f,"T00:00:00"))})}}},{key:"getTwoDigitValue",value:function(e){return(e<10?"0":"")+e}},{key:"handleTimeChange",value:function(e){var t=this.props,a=t.useGrowingIO,n=t.logGDP;a&&n&&gdp("track","web_testdrive_time_click",{drive_time:e.value}),this.setState({time:e.value})}},{key:"onDateChange",value:function(e){var t,a=this.state,n=a.data[a.location],i="".concat(e.getFullYear(),"-").concat(this.getTwoDigitValue(e.getMonth()+1),"-").concat(this.getTwoDigitValue(e.getDate())),l=Object.keys(null===n||void 0===n||null===(t=n.appointmentTimeSlots)||void 0===t?void 0:t.times[i])[0],r=this.props,o=r.useGrowingIO,c=r.logGDP,s=r.handleDateChange,u=r.updateValue;o&&c&&gdp("track","web_testdrive_date_click",{drive_date:i}),s(i),u("time",l),this.setState({day:i,time:null,selectedDate:e})}},{key:"getSchedule",value:function(e){var t=this,a=this.props.updateValue;this.setState({showLoader:!0});var n=e.trtIds;this.CallHandler=new Me,this.CallHandler.getSchedule(e).then((function(e){var i=t.state.data;if(""!==e.data.dates&&""!==e.data.times||(a("day",null),a("time",null),i[n].storeDetails.noAppointments=!0,t.state.data=i,t.setState({loaderSuccess:"success",loaderShow:"",showLoader:!1,location:null,day:null,time:null})),i[n].appointmentTimeSlots=e.data[n],i[n].storeDetails.noAppointments=!1,t.state.data=i,""===n)a("day",null),a("time",null),t.setState({loaderSuccess:"success",location:null,day:null,time:null});else if(""===e.data.dates||""===e.data.times)a("day",null),a("time",null),i[n].storeDetails.noAppointments=!0,t.state.data=i,t.setState({loaderSuccess:"success",loaderShow:"",location:null,day:null,time:null});else{var l,r,o,c=n,s=i[c],u=null,d=null;if(!(null===s||void 0===s||null===(l=s.storeDetails)||void 0===l?void 0:l.noAppointments))u=Object.keys(null===s||void 0===s||null===(r=s.appointmentTimeSlots)||void 0===r?void 0:r.times)[0],d=Object.keys(null===s||void 0===s||null===(o=s.appointmentTimeSlots)||void 0===o?void 0:o.times[u])[0];a("day",u),a("time",d),t.setState({loaderSuccess:"success",loaderShow:"",location:c,day:null,time:null,showLoader:!1})}}))}},{key:"setLocation",value:function(e){var t=this.props.updateValue;this.state.location=e,t("location",e)}},{key:"setCurrentLocationID",value:function(e){var t=this.props.updateValue;this.currentLocationID=e,t("currentLocationID",e)}},{key:"getCurrentLocationID",value:function(){return this.currentLocationID}},{key:"setDay",value:function(e){var t=this.props.updateValue;this.state.day=e,t("day",e)}},{key:"setTime",value:function(e){var t=this.props.updateValue;this.state.time=e,t("time",e)}},{key:"dateDisabled",value:function(e){var t,a,n,i=this.state,l=i.data,r=i.location;if("undefined"===typeof(null===(t=l[r])||void 0===t||null===(a=t.appointmentTimeSlots)||void 0===a?void 0:a.dates))return!1;var o=(null===(n=l[r])||void 0===n?void 0:n.appointmentTimeSlots).dates,c=new Date,s=new Date(e.valueOf());if(s.setHours(0,0,0,0),c.setHours(0,0,0,0),s<c)return!0;for(var u,d=Object.entries(o),m=0;m<d.length;m+=1)if(u=new Date("".concat(d[m][0],"T00:00:00")),e.toDateString()===u.toDateString())return!1;return!0}},{key:"getLocationSelect",value:function(e,t,a,n,l){var r=this;return i.a.createElement(N.a,{label:e.location,value:null!==l?l:"",name:"location",onChange:function(e){return r.handleLocationChange(e)},autoscript:"edit-location",disabled:t,id:"select-location"},"CN"===n&&a.length>=1?i.a.createElement("option",{value:""},"\u8bf7\u9009\u62e9\u95e8\u5e97"):null,Object.keys(a).map((function(e,t){var l,r,o,c;return null!=(null===(l=a[e])||void 0===l||null===(r=l.appointmentTimeSlots)||void 0===r?void 0:r.dates)||"CN"===n?i.a.createElement("option",{key:t,value:a[e].StoreNr},null===(o=a[e])||void 0===o||null===(c=o.storeDetails)||void 0===c?void 0:c.storeName):null})))}},{key:"getSelectOptions",value:function(e,t,a,n,l,r){return l&&i.a.createElement(i.a.Fragment,null,i.a.createElement(N.a,{id:"select-time",value:e,name:t,label:a,onChange:n,autoscript:r},Object.keys(l).map((function(e,t){var a="undefined"!==typeof l[e].timeFormatted?l[e].timeFormatted:l[e];return i.a.createElement("option",{key:t,value:e},a)}))))}},{key:"handleData",value:function(){var e=this,t=this.props,a=t.getSortedData,n=t.getData,i=t.values,l=this.state,r=l.location,o=l.day,c=[],s=[],u=A(),d=a(),m=n();for(var p in d)s.push(d[p].StoreNr);null!=m&&s.map((function(t,a){if(0===a&&"zh_CN"!==u){var n,l;i&&"undefined"!==typeof i.currentLocationID&&null!==i.currentLocationID?e.setLocation(i.currentLocationID):e.setLocation(t);var s=null===(n=m[r])||void 0===n||null===(l=n.appointmentTimeSlots)||void 0===l?void 0:l.times;null!=s&&(e.setDay(Object.keys(s)[0]),e.setTime(Object.keys(s[o])[0]))}return c.push(t),a}));var v=[];for(var h in d){var f=d[h];c.includes(f.StoreNr)&&v.push(f)}this.state.sortedFinalData=v,this.state.data=m}},{key:"render",value:function(){var e,t,a=this,n=this.state,l=n.day,r=n.time,o=this.state,c=o.sortedFinalData,s=o.data,u=o.location,d=o.selectedDate,m=this.props,p=m.country,v=m.locale,h=null,f=null,E=null,b=null;if("CN"===p&&null==u&&c.length>=1)E={day:l,time:r},f={city:"",countryCode:"",findUsId:"",isAssetLite:!1,mapUrl:"",noAppointments:!0,phoneNumber:"",stateProvince:"",storeName:"",streetAddress:"",zipCode:""};else{var y,O,w;if(b=!(null===(y=s[u])||void 0===y||null===(O=y.storeDetails)||void 0===O?void 0:O.noAppointments)){var L,_,C,k,N,M;if(null==l)l=Object.keys((null===(C=s[u])||void 0===C||null===(k=C.appointmentTimeSlots)||void 0===k?void 0:k.times)||{})[0];if(null==r)r=Object.keys((null===(N=s[u])||void 0===N||null===(M=N.appointmentTimeSlots)||void 0===M?void 0:M.times[l])||{})[0];h=null===(L=s[u])||void 0===L||null===(_=L.appointmentTimeSlots)||void 0===_?void 0:_.times[l]}E={day:l,time:r},this.setDay(l),this.setTime(r),f=null===(w=s[u])||void 0===w?void 0:w.storeDetails}var j=this.state,T=j.loaderSuccess,A=j.loaderShow,R=j.showLoader,I="success"===T?it.a:rt.a,U=c,x=window.tesla||{},V="undefined"!==typeof x?x.App.strings["Test_Drive/All"].content.timeSelection:{},P=""!==(null===(e=f)||void 0===e?void 0:e.city)?null===(t=f)||void 0===t?void 0:t.city:null;!P||""===f.stateProvince&&""===f.zipCode||(P+=",");var B=null;return"undefined"!==typeof l&&null!=l&&(B=new Date("".concat(l.valueOf(),"T00:00:00"))),i.a.createElement("div",{className:"time-content-container-outer"},null!=s?i.a.createElement("div",{className:"time-content-container"},i.a.createElement("div",{className:"time-data-container"},i.a.createElement(S.a,{initialValues:E},i.a.createElement("div",{id:"location",className:"item-container "},i.a.createElement(tt.a,null,this.getLocationSelect(V,!1,U,p,u,!0),b&&i.a.createElement(et.a,{label:V.day,name:"day",locale:v.replace("_","-"),placeholder:"Select Date",date:d,id:"select-day",value:B?B.toLocaleDateString(v.replace("_","-"),{month:"long",day:"numeric",year:"numeric"}):"",dateDisabled:function(e){return a.dateDisabled(e)},onDateChange:function(e){return a.onDateChange(e,!0)}}),b&&this.getSelectOptions(r,"time",V.time,(function(e){return a.handleTimeChange(e,!0)}),h,"edit-preferred-time"))))),f?i.a.createElement("div",{className:"time-map-container"},"CN"===p?null:i.a.createElement("img",{src:f.mapUrl,className:"map-img",alt:"map-location"}),i.a.createElement("div",{className:"location-address"},i.a.createElement("h4",null,""!==f.storeName?f.storeName:null),i.a.createElement("p",{className:"map-text"},""!==f.streetAddress?f.streetAddress:null,i.a.createElement("br",null),P," ",""!==f.stateProvince?f.stateProvince:null," ",""!==f.zipCode?f.zipCode:null,i.a.createElement("br",null),""!==f.phoneNumber?f.phoneNumber:null)),""!==f.findUsId?i.a.createElement("p",{className:"map-text driving-directions"},i.a.createElement(at.a,{href:Object(D.a)("findus/location/store/".concat(f.findUsId),{locale:v}),target:"_blank",rel:"noopener noreferrer"},V.hoursAndDirection)):null):null):null,"CN"===p?i.a.createElement(g.a,{show:R}):null,i.a.createElement("div",{className:"loader ".concat(T," ").concat(A)},i.a.createElement("span",{style:{backgroundImage:"url(".concat(G().RESOURCE_BASE_URL).concat(I,")")}})))}}]),a}(n.Component);ot.defaultProps={locale:"en_US",handleDateChange:function(){},updateValue:function(){},country:"US",getData:function(){},useGrowingIO:!1,getSortedData:function(){},logGDP:!1,model:"",values:{currentLocationID:null}};var ct=Object(p.b)((function(e){return{data:e.timeSection.data,model:e.timeSection.model,country:R(),locale:A(),useGrowingIO:e.flags.useGrowingIO}}))(ot),st=function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"finalSubmit",value:function(e){var t=this.props,a=t.updateValue,n=t.country,i=t.getData,l=t.handleSubmit,r=t.useGrowingIO,o=t.values;a("setAppointmentId",!0);var c=o.location,s=o.day,u=o.time,d=null;if("CN"===n.toUpperCase()&&(""===c||null==c)&&document.getElementById("location-msg")&&null!=document.getElementById("location-msg"))return document.getElementById("location-msg").setAttribute("class","tds-form-item-feedback tds-form-item-feedback-msg"),document.getElementById("location-msg").innerHTML="\u8bf7\u9009\u62e9\u95e8\u5e97",document.getElementById("location").setAttribute("class","item-container tds-form-item--error"),!1;if("undefined"!==typeof i()[c]&&"undefined"!==typeof i()[c].appointmentTimeSlots){var m=i()[c].appointmentTimeSlots.times;null!=m&&(d=m[s][u].duration),a("duration",d)}return a("duration",d),r&&(gdp("track","web_testdrive_locslots_click"),gdp("track","web_testdrive_next_click")),window.dataLayer&&window.dataLayer.push({event:"form-interaction",interaction:"date-time-selected",formType:"Test Drive",engagementType:"User Requested"}),l(e),null}},{key:"render",value:function(){var e=this.props,t=e.containerClass,a=e.getData,n=e.getModel,l=e.handleChange,r=e.handleDateChange,o=e.updateValue,c=e.getSortedData,s=e.locale,u=e.values,d="undefined"!==typeof window.tesla?window.tesla.App.strings["Test_Drive/All"].content.timeSelection:{};return i.a.createElement("div",{className:"content-container time-container ".concat(t),style:{position:"relative",display:"show"===t?"block":"none"}},i.a.createElement(Ze,{title:d.title,paragraphs:[T(d.title2,{LEARN_MORE:d.title2Lbl},Object(D.a)("/support/test-drive",{locale:s}),["tds-link"])]}),i.a.createElement(ct,{handleChange:l,handleDateChange:r,getData:a,getSortedData:c,getModel:n,updateValue:o,values:u,logGDP:!0}),i.a.createElement("div",{className:"btn-container-left timesection-btn-container"},i.a.createElement(w.a,{"data-section":"timeSection",onClick:this.finalSubmit.bind(this),id:"edit-submit-td-ajax-3"},d.next)),i.a.createElement("p",{className:"disclaimer-txt"},me(d.note)))}}]),a}(n.Component);st.defaultProps={handleSubmit:function(){},containerClass:_.string,locale:"en_US",handleChange:function(){},handleDateChange:function(){},updateValue:function(){},country:"US",getData:function(){},useGrowingIO:!1,values:{},getSortedData:function(){},getModel:function(){}};var ut=Object(p.b)((function(e){var t=e;return{containerClass:t.timeSection.containerClass,locale:A(),country:R(),useGrowingIO:t.flags.useGrowingIO}}))(st),dt=function(e){var t=e.getData,a=e.values,n=e.showNoTestDriveAvailable,l=e.showTradeinSection,r=a.location,o=a.model,c=a.formattedDate,s=a.formattedTime,u=a.duration,d=t(),m=A(),p=null;null!=d&&"undefined"!==typeof r&&null!=r&&"undefined"!==typeof d[r]&&(p=d[r].storeDetails);var v=null!=p&&null!=o&&"undefined"!==typeof o&&null!=u,h={orderOnline:"/",browseInventory:"inventory/used/m3",findStore:"findus"};return i.a.createElement("div",{className:"notification-section"},v?i.a.createElement("div",null,i.a.createElement("section",null,i.a.createElement("img",{className:"success-image center",src:"".concat(G().RESOURCE_BASE_URL).concat(it.a),alt:"Appointment Scheduled"})),i.a.createElement("section",null,i.a.createElement("h1",null,U("confirmation.testDriveScheduled"))),i.a.createElement("section",{className:"confirmation-details"},i.a.createElement("p",{className:"tds-text--500"},"".concat(c," ").concat(U("confirmation.atTxt")," ").concat(s)," ",i.a.createElement("br",null),p.streetAddress," ",i.a.createElement("br",null),"".concat(p.city,", ").concat(p.stateProvince," ").concat(p.zipCode)," ",i.a.createElement("br",null),"".concat(p.phoneNumber))),i.a.createElement("section",{className:"confirmation-message"},j(U("confirmation.secondTitle"),{MODEL:o.replace("Model","Model ")}),"zh_CN"===m?"".concat(p.phoneNumber):""),l&&i.a.createElement("section",{className:"trade-in-section"},i.a.createElement("a",{className:"tds-link",href:Object(D.a)("tradein",{locale:m})},U("confirmation.getTradeInQuote")))):i.a.createElement("div",null,n?i.a.createElement("div",null,i.a.createElement("section",null,i.a.createElement("img",{className:"success-image center",src:"".concat(G().RESOURCE_BASE_URL).concat(it.a),alt:"Appointment Scheduled"})),i.a.createElement("section",null,i.a.createElement("h1",null,U("confirmation.thankYou")),i.a.createElement("p",{dangerouslySetInnerHTML:{__html:U("confirmation.noAvailableDrives")}}),U("confirmation.noAvailableList")?i.a.createElement("ul",{className:"tds-list confirmation-no-test-list"},Object.keys(U("confirmation.noAvailableList")).map((function(e){return i.a.createElement("li",{key:e},i.a.createElement("a",{href:Object(D.a)(h[e],{locale:m}),className:"tds-link"},U("confirmation.noAvailableList.".concat(e))))}))):null)):i.a.createElement("div",null,i.a.createElement("section",null,i.a.createElement("img",{className:"success-image center",src:"".concat(G().RESOURCE_BASE_URL).concat(it.a),alt:"Appointment Scheduled"})),i.a.createElement("section",null,i.a.createElement("h1",null,U("confirmation.thankYou")),i.a.createElement("p",null,U("confirmation.contactYouSoon"))))))};dt.defaultProps={values:{},getData:function(){},showNoTestDriveAvailable:!1,showTradeinSection:!1};var mt=Object(p.b)((function(e){var t=e.flags,a=t.showTradeinSection,n=t.showAdditionalQuestions,i=t.showQRCode;return{showNoTestDriveAvailable:t.showNoTestDriveAvailable,showTradeinSection:a,showAdditionalQuestions:n,showQRCode:i}}))(dt),pt=function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props,t=e.containerClass,a=e.handleSubmit,n=e.values,l=e.getData;return i.a.createElement("div",{className:"content-container notification-container ".concat(t),style:{position:"absolute",display:"show"===t?"block":"none"}},i.a.createElement(mt,{values:n,getData:l,handleSubmit:a}))}}]),a}(n.Component);pt.defaultProps={containerClass:"",handleSubmit:function(){},values:{},getData:function(){}};var vt=Object(p.b)((function(e){return{containerClass:e.confirmationSection.containerClass,values:e.confirmationSection.values}}))(pt),ht=a(11),ft=a(85),Et=a.n(ft),bt=a(86),gt=a.n(bt),yt=a(160),Ot=a(106),Dt=a(315),St=Object(p.b)((function(e){return{selectedModel:e.carSection.model}}))((function(e){var t=e.selectedModel,a=e.formRef,l=Object(n.useState)(!1),r=Object(M.a)(l,2),o=r[0],c=r[1],s=i.a.createElement("option",{key:"empty",value:""},"- Select -"),u=Ue.name[t]?[Ue.name[t]]:[];return Object(n.useEffect)((function(){a.current.reset()}),[t,a]),i.a.createElement("div",{className:"driver-license-terms"},i.a.createElement("h4",null,U("additionalQuestions.optionalInfo")),i.a.createElement("p",null,U("additionalQuestions.personalizeExperience")),i.a.createElement(Dt.a,{label:U(o?"additionalQuestions.hideQuestions":"additionalQuestions.showQuestions"),onClick:function(){return c(!o)},pressed:o,invertColors:!0}),i.a.createElement(yt.Collapse,{isOpened:o},i.a.createElement("div",{className:"questions-container"},i.a.createElement(Ot.a,{name:"additionalQuestions.modelInterest",label:U("additionalQuestions.selectInterest"),initialValue:u,options:[{value:"Model S",label:"Model S"},{value:"Model 3",label:"Model 3"},{value:"Model X",label:"Model X"},{value:"Model Y",label:"Model Y"},{value:"Roadster",label:"Roadster"},{value:"Cybertruck",label:"Cybertruck"},{value:"Semi",label:"Semi"}]}),i.a.createElement(Ot.a,{name:"additionalQuestions.learnMore",label:U("additionalQuestions.learnMore"),options:[{value:"Charging",label:U("additionalQuestions.learnMoreOptions.charging")},{value:"Price/Financing",label:U("additionalQuestions.learnMoreOptions.financing")},{value:"Trade-In",label:U("additionalQuestions.learnMoreOptions.tradein")},{value:"Autopilot",label:U("additionalQuestions.learnMoreOptions.autopilot")},{value:"Timing",label:U("additionalQuestions.learnMoreOptions.deliveryTiming")}]}),i.a.createElement(N.a,{name:"additionalQuestions.primarymotivationname",label:U("additionalQuestions.motivation")},s,i.a.createElement("option",{value:"Safety"},U("additionalQuestions.motivationOptions.safety")),i.a.createElement("option",{value:"Performance"},U("additionalQuestions.motivationOptions.performance")),i.a.createElement("option",{value:"Style"},U("additionalQuestions.motivationOptions.design")),i.a.createElement("option",{value:"Sustainability"},U("additionalQuestions.motivationOptions.sustainability")),i.a.createElement("option",{value:"Technology"},U("additionalQuestions.motivationOptions.technology"))),i.a.createElement(C.a,{name:"additionalQuestions.currentvehiclemodel",label:U("additionalQuestions.currentCar"),placeholder:U("additionalQuestions.currentCarPlaceholder")}),i.a.createElement(N.a,{name:"additionalQuestions.purchasetimelinename",label:U("additionalQuestions.purchaseTimeline")},s,i.a.createElement("option",{value:"withinThirtyDays"},U("additionalQuestions.purchaseTimelineOptions.withinThirtyDays")),i.a.createElement("option",{value:"oneToThreeMonths"},U("additionalQuestions.purchaseTimelineOptions.oneToThreeMonths")),i.a.createElement("option",{value:"threeToTwelveMonths"},U("additionalQuestions.purchaseTimelineOptions.threeToTwelveMonths")),i.a.createElement("option",{value:"moreThanTwelveMonths"},U("additionalQuestions.purchaseTimelineOptions.moreThanTwelveMonths")),i.a.createElement("option",{value:"dontKnow"},U("additionalQuestions.purchaseTimelineOptions.dontKnow"))))))})),wt=a(318),Lt=function(e){var t=e.fileInfo,a=void 0===t?null:t,n=e.fileContents,l=void 0===n?null:n,r=e.placeholderImage,o=e.error,s=void 0!==o&&o,u=G().ALLOWED_PREVIEW_FILE_TYPES,d=c()(a,"name",null),m=c()(a,"type",null);return s?i.a.createElement("div",{className:"dl-img"},i.a.createElement(wt.a,{type:"error",body:"Something went wrong"})):l&&u.includes(m)?i.a.createElement("div",{className:"dl-img",style:{backgroundImage:'url("'.concat(l,'")')}}):l&&d?i.a.createElement("div",{className:"dl-img"},i.a.createElement("span",null,d)):d&&!l?i.a.createElement("div",{className:"dl-img"},i.a.createElement(wt.a,{type:"error",body:"Invalid file type"})):i.a.createElement("div",{className:"dl-img",style:{backgroundImage:'url("'.concat(r,'")')}})};Lt.defaultProps={fileInfo:{},fileContents:"",placeholderImage:"",error:!1};var _t=Lt,Ct=(a(293),function(e){var t=e.id,a=e.label,l=e.onFileChange,r=e.placeholderImage,o=e.showUploadError,c=G().ALLOWED_FILE_TYPES.join(", "),s=Object(n.useRef)(null),u=Object(n.useState)(!1),d=Object(M.a)(u,2),m=d[0],p=d[1],v=Object(n.useState)({}),h=Object(M.a)(v,2),f=h[0],E=h[1],b=Object(n.useState)(),g=Object(M.a)(b,2),y=g[0],O=g[1],D=Object(oe.i)(t).setValue,S=Object(n.useState)(U("driverlicenseSection.addLink")),L=Object(M.a)(S,2),_=L[0],k=L[1],N=new Me;return i.a.createElement("div",{className:"driver-license-upload"},i.a.createElement("section",{className:"dl-container"},i.a.createElement(_t,{placeholderImage:r,fileInfo:f,fileContents:y,error:m}),i.a.createElement("div",{className:"dl-txt"},i.a.createElement("div",{className:"tds-text--h4 photo-block"},i.a.createElement("label",{className:"tds-form-item-label",htmlFor:t},a),i.a.createElement(C.a,{type:"hidden",name:t}),i.a.createElement("input",{type:"file",id:t,onChange:function(e){var t=e.target.files[0]||null;if(t){E(t),p(!1);var a=new FileReader;a.onload=function(e){O(e.target.result)},a.readAsDataURL(t),N.uploadFile("license",t).then((function(e){e.success?(D(e.file),k(U("driverlicenseSection.replaceLink")),"function"===typeof l&&l(e.file)):(p(!0),o())})).catch((function(){p(!0),o()}))}},ref:s,className:"file-upload",accept:c}),i.a.createElement(w.a,{className:"add-file",height:"small",onClick:function(e){e.preventDefault(),s&&s.current&&s.current.click()}},_)),i.a.createElement("span",null,function(){var e=U("driverlicenseSection.imgTxt");e.lastIndexOf(".")!==e.length-1&&(e+=".");var t=U("driverlicenseSection.horizontalCamera");return t&&(e+=" ".concat(t)),e}()))))}),kt=a(313),Nt=(a(294),function(e){var t=e.onAcceptChange,a=Object(n.useRef)(null),l=Object(n.useState)(!0),r=Object(M.a)(l,2),o=r[0],c=r[1],s=U("driverlicenseSection.reviewPoints"),u=s&&s.length,d=A();return Object(n.useEffect)((function(){a&&a.current&&a.current.addEventListener("scroll",(function(){var e=a.current;e.offsetHeight+e.scrollTop>=e.scrollHeight&&c(!1)}),!1)}),[]),i.a.createElement("div",{className:"driver-license-terms"},i.a.createElement("h4",null,U("driverlicenseSection.reviewTxt")),i.a.createElement("section",{className:"driver-license-terms-txt",ref:a},i.a.createElement("h4",null,U("driverlicenseSection.reviewTitle")),i.a.createElement("p",null,U("driverlicenseSection.reviewUnderTxt")),i.a.createElement("p",{className:"bold"},U("driverlicenseSection.reviewTerms")),i.a.createElement("ol",null,u&&s.map((function(e,t){return i.a.createElement("li",{key:t},e)}))),i.a.createElement("p",{className:"bold"},U("driverlicenseSection.privacy")),i.a.createElement("p",null,U("driverlicenseSection.confirmEligibility")),i.a.createElement("table",{className:"terms-table",cellSpacing:"0"},i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,U("driverlicenseSection.tableTitleOne")),i.a.createElement("th",null,U("driverlicenseSection.tableTitleTwo")),i.a.createElement("th",null,U("driverlicenseSection.tableTitleThree")))),i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,U("driverlicenseSection.tableOneOne")),i.a.createElement("td",null,U("driverlicenseSection.tableOneTwo")),i.a.createElement("td",null,U("driverlicenseSection.tableOneThree"))),i.a.createElement("tr",null,i.a.createElement("td",null,U("driverlicenseSection.tableTwoOne")),i.a.createElement("td",null,U("driverlicenseSection.tableTwoTwo")),i.a.createElement("td",null,U("driverlicenseSection.tableTwoThree"))),i.a.createElement("tr",null,i.a.createElement("td",null,U("driverlicenseSection.tableThreeOne")),i.a.createElement("td",null,U("driverlicenseSection.tableThreeTwo")),i.a.createElement("td",null,U("driverlicenseSection.tableThreeThree"))))),i.a.createElement("p",null,i.a.createElement("span",{dangerouslySetInnerHTML:{__html:T(U("driverlicenseSection.privacyNotice"),{LINK:U("driverlicenseSection.privacyNoticeLbl")},Object(D.a)("/about/legal",{locale:d}))}})),i.a.createElement("p",{className:"last-sentence"},U("driverlicenseSection.byContinuing"))),i.a.createElement(kt.a,{className:"tds-form-fieldset accept-terms"},i.a.createElement(V.a,{name:"acceptTerms",id:"acceptTerms",disabled:o,onChange:function(e){var a=e.value;return t(a)},label:U("driverlicenseSection.reviewAccept")}),"ko_KR"===A()?i.a.createElement(V.a,{name:"agreeToCollection",id:"agreeToCollection",disabled:o,onChange:function(e){var a=e.value;return t(a)},label:U("driverlicenseSection.reviewAgree")}):null))}),Mt=function(e){var t=e.showAdditionalQuestions,a=e.hideBackLicense,l=e.handleSubmit,r=e.updateValue,o=e.deleteValue,c=e.showUploadError,s=Object(n.useRef)(),u=Object(n.useState)(!0),d=Object(M.a)(u,2),m=d[0],p=d[1],v=Object(n.useState)(0),h=Object(M.a)(v,2),f=h[0],E=h[1],b=Object(n.useState)(["driver-license-front-back-section"]),g=Object(M.a)(b,2),y=g[0],O=g[1],D=Object(n.useState)(1),L=Object(M.a)(D,2),_=L[0],C=L[1],k=!(_>1);Object(n.useEffect)((function(){N()}));var N=function(){if(0!==f){var e=s.current.getValue("acceptTerms");s.current.getValue("agreeToCollection")||"ko_KR"!==A()||(e=!1);for(var t=!0,n=!0,i=0;i<_;i+=1){if(""===document.getElementById("dlFront_".concat(i)).value){t=!1;break}document.getElementById("dlBack_".concat(i))&&""===document.getElementById("dlBack_".concat(i)).value&&(n=!1)}p(!(a?t&&e:t&&n&&e))}};return i.a.createElement(S.a,{formApiRef:s,initialValues:{acceptTerms:!1},className:"license-upload-form",onChange:function(e){var t=e.values,a=void 0===t?{}:t;a.additionalQuestions&&r("additionalQuestions",a.additionalQuestions)}},i.a.createElement("div",null,y.map((function(e,t){return i.a.createElement("div",{className:e,key:"driverlicenseBlock_".concat(t)},i.a.createElement(Ct,{id:"dlFront_".concat(t),label:U("driverlicenseSection.dlFront"),placeholderImage:G().RESOURCE_BASE_URL+Et.a,showUploadError:c,onFileChange:function(e){r(0===t?"dlFront":"dlFront_".concat(t),e),E((function(e){return e+1}))}}),!a&&i.a.createElement(Ct,{id:"dlBack_".concat(t),label:U("driverlicenseSection.dlBack"),placeholderImage:G().RESOURCE_BASE_URL+gt.a,showUploadError:c,onFileChange:function(e){r(0===t?"dlBack":"dlBack_".concat(t),e),E((function(e){return e+1}))}}))})),t&&i.a.createElement(St,{formRef:s}),"en_US"===A()&&k?i.a.createElement("div",{id:"add-another-driver",className:"btn-container-left"},i.a.createElement(w.a,{className:" tds-btn tds-btn--tertiary",id:"btnAddAnotherDriver",onClick:function(){O([].concat(Object(ht.a)(y),["driver-license-front-back-section"])),C((function(e){return e+1})),window.dataLayer&&window.dataLayer.push({event:"form-interaction",interaction:"add-another-driver",formType:"Test Drive",engagementType:"User Requested"})}.bind(void 0)},U("driverlicenseSection.addAnotherDriver"))):null,"en_US"!==A()||k?null:i.a.createElement("div",{id:"remove-another-driver",className:"btn-container-left"},i.a.createElement(w.a,{className:" tds-btn tds-btn--tertiary",id:"btnRemoveAnotherDriver",onClick:function(){O(["driver-license-front-back-section"]),C((function(e){return e-1})),o("dlFront_1"),o("dlBack_1"),window.dataLayer&&window.dataLayer.push({event:"form-interaction",interaction:"remove-additional-driver",formType:"Test Drive",engagementType:"User Requested"})}.bind(void 0)},U("driverlicenseSection.addRemoveDriver"))),i.a.createElement(Nt,{onAcceptChange:N}),i.a.createElement("div",{className:"btn-container-left"},i.a.createElement(w.a,{type:"submit","data-section":"driverlicenseSection",onClick:l,id:"edit-submit-td-ajax",disabled:m},U("driverlicenseSection.next")))))};Mt.defaultProps={handleSubmit:function(){},showAdditionalQuestions:!1,hideBackLicense:!1,updateValue:function(){},deleteValue:function(){},showUploadError:function(){}};var jt=Object(p.b)((function(e){var t=e.flags;return{showAdditionalQuestions:t.showAdditionalQuestions,hideBackLicense:t.hideBackLicense}}))(Mt),Tt=function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,i=new Array(n),l=0;l<n;l++)i[l]=arguments[l];return(e=t.call.apply(t,[this].concat(i))).acceptTerms=function(t){window.dataLayer&&(window.dataLayer.push({event:"form-interaction",interaction:"test-drive-agreement-complete",formType:"Test Drive",engagementType:"User Requested"}),window.dataLayer.push({event:"form-interaction",interaction:"test-drive-scheduled",formType:"Test Drive",engagementType:"User Requested"})),(0,e.props.handleSubmit)(t)},e.showUploadFileError=function(){e.props.store.dispatch({type:G().SHOW_ERROR,values:U("errors.dlUploadError")})},e}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props,t=e.containerClass,a=e.updateValue,n=e.deleteValue;return i.a.createElement("div",{className:"content-container driverlicense-container ".concat(t),style:{position:"relative",display:"show"===t?"block":"none"}},i.a.createElement(Ze,{title:U("driverlicenseSection.title"),paragraphs:[U("driverlicenseSection.title2")]}),i.a.createElement(jt,{handleSubmit:this.acceptTerms,showUploadError:this.showUploadFileError,updateValue:a,deleteValue:n}))}}]),a}(n.Component);Tt.defaultProps={containerClass:"",updateValue:function(){},deleteValue:function(){},handleSubmit:function(){},store:{}};var At=Object(p.b)((function(e){return{containerClass:e.driverlicenseSection.containerClass}}))(Tt),Rt=function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(e){var n;Object(h.a)(this,a),(n=t.call(this,e)).elems={},n.callHandler=new Me,n.isRescheduleRequest=!1;var i=window.location.pathname,l=i.split("/"),r=!1;return(i.startsWith("/drive/reschedule/")||i.startsWith("/drive/reschedule/",6))&&(n.isRescheduleRequest=!0),i.startsWith("/drive/reschedule/",6)&&(r=!0),n.guid=r?l[4]:l[3],n.email=r?l[5]:l[4],n.cancelUrl=r?"/".concat(A()):"",n.cancelUrl+="/drive/cancel/".concat(n.guid,"/").concat(n.email),n.state={hasLocationData:null,displayContent:!1},n}return Object(f.a)(a,[{key:"cleanData",value:function(e){if(Array.isArray(e))e=e.filter((function(e){return e.appointmentTimeSlots.dates&&e.appointmentTimeSlots.times&&e.availableModels}));else for(var t=0,a=Object.keys(e);t<a.length;t++){var n=a[t];e[n].appointmentTimeSlots.dates&&e[n].appointmentTimeSlots.times&&e[n].availableModels||delete e[n]}return e}},{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.showLoader,n=t.setData;this.isRescheduleRequest&&this.guid&&this.email&&(a(!0),this.callHandler.getAppointmentDetails(this.guid,this.email).then((function(t){if(a(!1),t.success){if(null==e.getData()){var i=e.cleanData(t.responseData);if(e.setData(i),n(i),e.setExistingAppointmentDetails(t.appointmentDetails),"undefined"!==typeof t.responseDataSorted){e.setSortedData(e.cleanData(t.responseDataSorted)),e.setModel(t.appointmentDetails.model);for(var l=!1,r=0;r<t.responseDataSorted.length;r+=1)if(null!=t.responseDataSorted[r].appointmentTimeSlots.dates){l=!0;break}e.setState({hasLocationData:l})}}return t}return null})).finally((function(){e.setState({displayContent:!0})})))}},{key:"setExistingAppointmentDetails",value:function(e){this.appointmentDetails=e}},{key:"getExistingAppointmentDetails",value:function(){return this.appointmentDetails}},{key:"setData",value:function(e){this.data=e}},{key:"getData",value:function(){return this.data}},{key:"setSortedData",value:function(e){this.sortedData=e}},{key:"getSortedData",value:function(){return this.sortedData}},{key:"setModel",value:function(e){this.model=e}},{key:"getModel",value:function(){return this.model}},{key:"rescheduleAppointment",value:function(e){(0,this.props.handleSubmit)(e,this.getModel(),this.guid,this.email)}},{key:"render",value:function(){var e=this,t=this.props,a=t.containerClass,n=t.handleChange,l=t.handleDateChange,r=t.updateValue,o=t.locale,c=this.state,s=c.displayContent,u=c.hasLocationData,d="undefined"!==typeof window.tesla?window.tesla.App.strings["Test_Drive/All"].content.timeSelection:{},m=u?"":"time-container-center",p=[T(u?d.title2:d.rescheduleNoAvailabilityText,{LEARN_MORE:d.title2Lbl},Object(D.a)("/support/test-drive",{locale:o}),["tds-link"])];return i.a.createElement("div",{className:"content-container time-container show".concat(a),style:{position:"relative",display:"block"}},s?i.a.createElement("div",{className:m},i.a.createElement(Ze,{title:d.titleReschedule,paragraphs:u?[]:p}),u?i.a.createElement(ct,{handleChange:n,handleDateChange:l,getData:this.getData.bind(this),getSortedData:this.getSortedData.bind(this),getModel:this.getModel.bind(this),getExistingAppointmentDetails:this.getExistingAppointmentDetails.bind(this),updateValue:r,logGDP:!1}):null,u?i.a.createElement("div",{className:"btn-container-left"},i.a.createElement(w.a,{"data-section":"timeSection",onClick:this.rescheduleAppointment.bind(this),id:"submit-td-ajax"},d.submit)):null,i.a.createElement("div",{className:"btn-container-left"},i.a.createElement(w.a,{className:"tds-btn tds-btn--tertiary",onClick:function(){window.location.href=e.cancelUrl}},d.cancelAppointment))):null)}}]),a}(n.Component);Rt.defaultProps={handleSubmit:function(){},containerClass:_.string,locale:"en_US",handleChange:function(){},handleDateChange:function(){},updateValue:function(){},showLoader:function(){},setData:function(){}};var It=Object(p.b)((function(e){return{containerClass:e.timeSection.containerClass,locale:A(),country:R()}}))(Rt),Ut=function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props,t=e.success,a=e.title;return i.a.createElement("div",{className:"appointment-confirmation-section"},t?i.a.createElement("section",null,i.a.createElement("img",{className:"success-image center",src:"".concat(G().RESOURCE_BASE_URL).concat(it.a),alt:"Appointment Canceled"})):null,i.a.createElement("br",null),t?i.a.createElement("h1",null,a):i.a.createElement("h4",null,a),i.a.createElement("br",null))}}]),a}(n.Component);Ut.defaultProps={success:!1,title:""};var xt=Ut,Vt=a(161),Pt=a.n(Vt),Bt=function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props.values;return i.a.createElement("div",{className:"notification-section"},i.a.createElement("div",null,i.a.createElement("section",null,i.a.createElement("img",{className:"success-image center",src:"".concat(G().RESOURCE_BASE_URL).concat(Pt.a),alt:e.title})),i.a.createElement("section",null,i.a.createElement("h1",null,e.title)),i.a.createElement("section",{className:"confirmation-details"},i.a.createElement("p",{className:"tds-text--500"},e.body)),i.a.createElement("section",{className:"confirmation-message"},i.a.createElement("div",{className:"btn-container"},i.a.createElement("a",{className:"tds-btn tds-btn--secondary",href:Object(D.a)(e.buttonLink?e.buttonLink:"/",{locale:A()})},e.buttonLabel)))))}}]),a}(n.Component);Bt.defaultProps={values:{}};var Ft=Bt,Gt=function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(){return Object(h.a)(this,a),t.apply(this,arguments)}return Object(f.a)(a,[{key:"render",value:function(){var e=this.props,t=e.containerClass,a=e.values;return i.a.createElement("div",{className:"content-container notification-container ".concat(t),style:{position:"absolute",display:"show"===t?"block":"none"}},i.a.createElement(Ft,{values:a}))}}]),a}(n.Component);Gt.defaultProps={containerClass:"",values:{}},Gt.defaultProps=z().errorSection;var Yt=Object(p.b)((function(e){return{containerClass:e.errorSection.containerClass,values:e.errorSection.values}}))(Gt),qt=function(e){Object(E.a)(a,e);var t=Object(b.a)(a);function a(e){var n,i,l;Object(h.a)(this,a),(l=t.call(this,e)).state={loaderSuccess:"",loaderShow:!1,modelAppointmentExist:!1,isAppointmentRescheduled:!1};var r=R(),o=A(),c=new O.a("",(null===(n=l.values)||void 0===n||null===(i=n.phone)||void 0===i?void 0:i.country)||r).getCountryCode();if(l.setData(null),l.setModel(null),window.location.search.includes("model=")){var s={ms:G().MODEL_S,m3:G().MODEL_3,mx:G().MODEL_X,my:G().MODEL_Y};l.setModel(s[window.location.search.split("model=")[1]])}l.values={phone:{country:"US",number:c},country:r,locale_code:o,contactPreference:"US"===r?"phone":null};var u=new URLSearchParams(window.location.search);l.values.campaign=u.get("campaign");var d=u.get("zip_code");d&&"US"===r&&(l.values.testDriveZip=d,l.values.zip=d);var m=window.location.pathname;return l.cancelRequest=!1,(m.startsWith("/drive/cancel/")||m.startsWith("/drive/cancel/",6))&&(l.cancelRequest=!0),l.isRescheduleRequest=!1,(m.startsWith("/drive/reschedule/")||m.startsWith("/drive/reschedule/",6))&&(l.isRescheduleRequest=!0),l.callHandler=new Me,l}return Object(f.a)(a,[{key:"showLoader",value:function(e){this.setState({loaderShow:e})}},{key:"showGeneralError",value:function(){this.props.store.dispatch({type:G().SHOW_ERROR,values:U("errors.generalError")})}},{key:"setFirstRun",value:function(e){this._firstRun=e}},{key:"getFirstRun",value:function(){return this._firstRun}},{key:"setModel",value:function(e){this._model=e}},{key:"getModel",value:function(){return this._model}},{key:"setData",value:function(e){this._data=e}},{key:"getData",value:function(){return this._data}},{key:"setTrtIds",value:function(e){this._trtIds=e}},{key:"getTrtIds",value:function(){return this._trtIds}},{key:"setSortedData",value:function(e){this._sortedData=e}},{key:"getSortedData",value:function(){return this._sortedData}},{key:"handleDateChange",value:function(e){this.values.day=e}},{key:"handleFormValues",value:function(e){this.values=Object(v.a)(Object(v.a)({},this.values),e.values)}},{key:"handleChange",value:function(e){null!=e.target&&("checkbox"==e.target.type?this.values[e.target.name]=e.target.checked:this.values[e.target.name]=e.target.value,"phone"==e.target.name&&this.forceUpdate())}},{key:"deleteValue",value:function(e,t){this.values[e]&&delete this.values[e]}},{key:"updateValue",value:function(e,t){this.values[e]=t}},{key:"handlePhoneCodeChange",value:function(e){this.setState({phoneCode:e})}},{key:"componentDidMount",value:function(){this.props.showWaiver&&document.getElementsByClassName("forms-container").length>0&&(document.getElementsByClassName("forms-container")[0].style.position="relative")}},{key:"rescheduleAppointment",value:function(e,t,a,n){var i=this,l=this.getData()[this.values.location].appointmentTimeSlots.times[this.values.day][this.values.time].duration,r={guid:a,email:n,model:t,appointmentDateTime:"".concat(this.values.day,"T").concat(this.values.time),duration:l,storeId:this.values.location,locale:this.values.locale_code};this.callHandler.rescheduleAppointment(r).then((function(e){if(i.setState({isRescheduleRequestSubmitted:!0}),e.success){"undefined"!==typeof e.formattedDate&&(i.values.formattedDate=e.formattedDate,i.values.formattedTime=e.formattedTime),i.values.model=t,i.values.duration=e.duration,i.props.store.dispatch({type:G().APPOINTMENT_RESCHEDULED,success:e.success,responseData:i.getData(),values:i.values}),i.setState({isAppointmentRescheduled:!0});var a=document.getElementsByClassName("notification-container")[0];a.style.display="block",a.classList.add("show")}}))}},{key:"handleSubmit",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===a&&(a=e.target.getAttribute("data-section"),"button"!=e.target.nodeName.toLowerCase()&&(a=e.target.closest("button").getAttribute("data-section"))),this.values.model=this.getModel();var n=new O.a("",this.values.phone.country).getCountryCode(),i="+".concat(n).concat(this.values.phone.number);if(this.setState({loaderSuccess:"",loaderShow:!0}),null!=this.getModel()){var l=this.getSortedData(),r=this.values.model,o={},c=[];l&&l.map((function(e,t,a){return e.availableModels.indexOf(r)>-1&&(o[e.StoreNr]=e,c.push(e)),e}));var s="";if("{}"===JSON.stringify(o))this.setData(null),this.setSortedData(null);else{var u=[],d=4;c.length<4&&(d=c.length);for(var m=0;m<d;m++)u.push(c[m].StoreNr);s=u.join(","),this.setTrtIds(u),this.setData(o),this.setSortedData(c)}this.values.trtIds=s;var p=this.getData();this.setState({modelAppointmentExist:null!=p})}this.callHandler.post(Object(v.a)(Object(v.a)({},this.values),{},{phone:i}),null==this.getData()).then((function(e){var n=!0;if(e.success){if(e.success&&"undefined"!==typeof e.responseDataSorted&&"CN"!=t.values.country&&(n=!1,null!==e.responseDataSorted))for(var i=0;i<e.responseDataSorted.length;i++){var l=e.responseDataSorted[i].appointmentTimeSlots.dates;if(null!==l&&""!==l){n=!0;break}}null==t.getData()&&(t.setData(e.responseData),"undefined"!==typeof e.responseDataSorted&&t.setSortedData(e.responseDataSorted)),"undefined"!==typeof e.formattedDate&&(t.values.formattedDate=e.formattedDate,t.values.formattedTime=e.formattedTime),"undefined"!==typeof e.anumber&&(t.values.anumber=e.anumber),"undefined"!==typeof e.snumber&&(t.values.snumber=e.snumber),"undefined"!==typeof e.aId&&(t.values.aId=e.aId)}t.setState({loaderSuccess:"success"});t.props.store.dispatch({type:G().NEXT_STEP,currSection:a,success:e.success&&n,responseData:t.getData(),model:t.getModel(),values:t.values}),t.setState({modelAppointmentExist:null!=e.responseData}),document.querySelector("body").scrollTo({top:0,behavior:"smooth"}),setTimeout((function(){t.setState({loaderShow:!1})}),800)})).catch((function(e){t.setState({loaderShow:!1}),t.showGeneralError()}))}},{key:"render",value:function(){var e=this.props,t=e.store,a=e.showWaiver,n=this.state.loaderShow,l=this.state.modelAppointmentExist,r=this.state.isAppointmentRescheduled,o=this.state.isRescheduleRequestSubmitted,c="undefined"!==typeof window.tesla?window.tesla.App.strings["Test_Drive/All"].content.timeSelection:{},s=c.rescheduleErrorMessage;if(this.cancelRequest){var u=c.cancelErrorMessage;return window.tesla.App.is_appointment_canceled&&(u=c.appointmentCanceled),i.a.createElement(xt,{title:u,success:window.tesla.App.is_appointment_canceled})}return this.isRescheduleRequest?i.a.createElement("div",{className:"content-holder"},o?r?i.a.createElement(vt,{store:t,handleSubmit:this.handleSubmit.bind(this),handleChange:this.handleChange.bind(this),getData:this.getData.bind(this)}):i.a.createElement(xt,{title:s,success:r}):i.a.createElement(It,{store:t,showLoader:this.showLoader.bind(this),handleSubmit:this.rescheduleAppointment.bind(this),setData:this.setData.bind(this),getData:this.getData.bind(this),getSortedData:this.getSortedData.bind(this),getModel:this.getModel.bind(this),handleChange:this.handleChange.bind(this),handleDateChange:this.handleDateChange.bind(this),updateValue:this.updateValue.bind(this),values:this.values}),i.a.createElement(g.a,{show:n}),i.a.createElement(Yt,{store:t})):i.a.createElement("div",{className:"content-holder"},i.a.createElement($e,{store:t,handleSelection:this.setModel.bind(this),getData:this.getData()}),i.a.createElement(Ae,{store:t,handleSubmit:this.handleSubmit.bind(this),handleChange:this.handleChange.bind(this),getUpdatesDefault:this.values.getUpdates,eCheckboxDefault:this.values.einterest,updateValue:this.updateValue.bind(this),handlePhoneCodeChange:this.handlePhoneCodeChange.bind(this),handleFormValues:this.handleFormValues.bind(this),values:this.values}),l?i.a.createElement(ut,{store:t,handleSubmit:this.handleSubmit.bind(this),getData:this.getData.bind(this),getSortedData:this.getSortedData.bind(this),getModel:this.getModel.bind(this),handleChange:this.handleChange.bind(this),handleDateChange:this.handleDateChange.bind(this),updateValue:this.updateValue.bind(this),values:this.values}):null,a?i.a.createElement(At,{store:t,handleSubmit:this.handleSubmit.bind(this),getData:this.getData(),updateValue:this.updateValue.bind(this),deleteValue:this.deleteValue.bind(this)}):null,i.a.createElement(vt,{store:t,handleSubmit:this.handleSubmit.bind(this),handleChange:this.handleChange.bind(this),getData:this.getData.bind(this)}),i.a.createElement(g.a,{show:n}),i.a.createElement(Yt,{store:t}))}}]),a}(n.Component),Ht=Object(p.b)((function(e){return{showWaiver:e.flags.showWaiver}}))(qt),Qt=a(60),Wt=[];if(c()(window,"tesla.reduxLogger",!1)){var zt=a(295).logger;Wt.push(zt)}var Kt=Object(Qt.c)(Qt.a.apply(void 0,Wt))(Qt.d)((function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z(),a=arguments.length>1?arguments[1]:void 0,n=Object(v.a)({},t);switch(a.type){case G().NEXT_STEP:if(a.success){var i={formsSection:"timeSection",timeSection:"confirmationSection",driverlicenseSection:"confirmationSection"};t.flags.showWaiver&&(i.timeSection="driverlicenseSection"),e=i[a.currSection],window.location.search.includes("model=")&&"formsSection"===a.currSection&&(e="timeSection")}else e="confirmationSection",a.values.duration=null,window.dataLayer&&window.dataLayer.push({event:"form-interaction",interaction:"confirm-thank-you",formType:"Test Drive",engagementType:"User Requested"});for(var l in"driverlicenseSection"===e&&window.dataLayer&&window.dataLayer.push({event:"form-interaction",interaction:"view-open-test-drive-agreement",formType:"Test Drive",engagementType:"User Requested"}),n)n[l].containerClass="";return n[e].containerClass="show",n.timeSection.data=a.responseData,n.timeSection.model=a.model,n.confirmationSection.values=a.values,n;case G().APPOINTMENT_RESCHEDULED:return n.confirmationSection.data=a.responseData,n.confirmationSection.values=a.values,n;case G().SELECT_MODEL:return n.carSection.model=a.model,n;case G().SHOW_ERROR:for(var r in n)n[r].containerClass="";return n.errorSection.containerClass="show",n.errorSection.values=a.values,n;default:return t}}));var Xt=function(){var e=Kt;return i.a.createElement(p.a,{store:e},i.a.createElement(Ht,{store:e}))},Zt=function(){var e=Object(n.useRef)(),t=c()(window,"tesla.App.uploadMore",{}),a=t.isWaiverAccepted,l=void 0!==a&&a,r=t.appointmentId,o=new Me,s=Object(n.useState)(!1),u=Object(M.a)(s,2),d=u[0],m=u[1],p=Object(n.useState)(!1),h=Object(M.a)(p,2),f=h[0],E=h[1],b=Object(n.useState)(!1),y=Object(M.a)(b,2),O=y[0],D=y[1],L=Object(n.useState)(!1),_=Object(M.a)(L,2),C=_[0],k=_[1],N=Object(n.useState)(!1),j=Object(M.a)(N,2),T=j[0],R=j[1],I=Object(n.useState)(!1),x=Object(M.a)(I,2),V=x[0],P=x[1],F=Q.hideBackLicense,Y=Object(n.useState)(["driver-license-front-back-section"]),q=Object(M.a)(Y,2),H=q[0],W=q[1],z=Object(n.useState)(1),K=Object(M.a)(z,2),X=K[0],Z=K[1],J=!(X>1),$=Object(n.useState)({}),ee=Object(M.a)($,2),te=ee[0],ae=ee[1],ne=function(e,t){ae(Object(v.a)(Object(v.a)({},te),{},Object(B.a)({},e,t)))},ie=function(){if(!V){var t=e.current.getValue("acceptTerms"),a=l||t;e.current.getValue("agreeToCollection")||"ko_KR"!==A()||(a=!1);for(var n=!0,i=!0,r=0;r<X;r+=1){if(""===document.getElementById("dlFront_".concat(r)).value){n=!1;break}document.getElementById("dlBack_".concat(r))&&""===document.getElementById("dlBack_".concat(r)).value&&(i=!1)}k(F?n&&a:n&&i&&a)}};Object(n.useEffect)((function(){ie()}));if(d)return i.a.createElement("div",{className:"notification-section"},i.a.createElement("h1",null,U("confirmation.thankYou")));var le=function(){E(!0)};return i.a.createElement("div",{className:"content-holder"},i.a.createElement("div",{className:"content-container driverlicense-container ".concat(f?"":"show"),style:{position:"relative",display:f?"none":"block"}},i.a.createElement(Ze,{title:U("driverlicenseSection.title"),paragraphs:[U("driverlicenseSection.title2")]}),i.a.createElement(S.a,{formApiRef:e,onSubmit:function(){D(!0),R(!1),P(!0),o.submitMoreFiles(r,Object.values(te)).then((function(){return m(!0)})).catch((function(){return R(!0)})).then((function(){return D(!1)}))},className:"license-upload-form"},H.map((function(e,t){return i.a.createElement("div",{className:e,key:"driverlicenseBlock_".concat(t)},i.a.createElement(Ct,{id:"dlFront_".concat(t),label:U("driverlicenseSection.dlFront"),showUploadError:le,placeholderImage:G().RESOURCE_BASE_URL+Et.a,onFileChange:function(e){ne("dlFront_".concat(t),e)}}),!F&&i.a.createElement(Ct,{id:"dlBack_".concat(t),label:U("driverlicenseSection.dlBack"),showUploadError:le,placeholderImage:G().RESOURCE_BASE_URL+gt.a,onFileChange:function(e){ne("dlBack_".concat(t),e)}}))})),"en_US"===A()&&J?i.a.createElement("div",{id:"add-another-driver",className:"btn-container-left"},i.a.createElement(w.a,{className:" tds-btn tds-btn--tertiary",id:"btnAddAnotherDriver",onClick:function(){return W([].concat(Object(ht.a)(H),["driver-license-front-back-section"])),void Z((function(e){return e+1}))}},U("driverlicenseSection.addAnotherDriver"))):null,"en_US"!==A()||J?null:i.a.createElement("div",{id:"remove-another-driver",className:"btn-container-left"},i.a.createElement(w.a,{className:" tds-btn tds-btn--tertiary",id:"btnRemoveAnotherDriver",onClick:function(){return W(["driver-license-front-back-section"]),Z((function(e){return e-1})),te.dlFront_1&&delete te.dlFront_1,void(te.dlBack_1&&delete te.dlBack_1)}},U("driverlicenseSection.addRemoveDriver"))),!l&&i.a.createElement(Nt,{onAcceptChange:ie}),T&&i.a.createElement("div",{className:"tds-text--center waiver-error-container"},i.a.createElement(wt.a,{type:"error",enclosed:!0,body:U("timeSelection.cancelErrorMessage")})),i.a.createElement("div",{className:"btn-container"},i.a.createElement(w.a,{type:"submit",height:"medium",disabled:!C},U("driverlicenseSection.next")))),i.a.createElement(g.a,{show:O})),i.a.createElement("div",{className:"content-container notification-container ".concat(f?"show":""),style:{position:"absolute",display:f?"block":"none"}},i.a.createElement(Ft,{values:U("errors.dlUploadError")})))},Jt=function(){var e=c()(window,"tesla.App.footer",null);return i.a.createElement("div",{className:"page-container"},i.a.createElement("div",{id:"tds-site-header-wrapper",className:"tds-site-header-wrapper"}),i.a.createElement("div",{className:"test-drive-container"},i.a.createElement(m.a,null)),e&&i.a.createElement("div",{dangerouslySetInnerHTML:{__html:e},className:"test-drive-footer"}))},$t=function(){var e=c()(window,"tesla.App.baseRoute","/drive");return i.a.createElement(d.a,{basename:e},i.a.createElement(m.d,null,i.a.createElement(m.b,{path:"/",element:i.a.createElement(Jt,null)},i.a.createElement(m.b,{index:!0,element:i.a.createElement(Xt,null)}),i.a.createElement(m.b,{exact:!0,path:"reschedule/:guid/:email",element:i.a.createElement(Xt,null)}),i.a.createElement(m.b,{exact:!0,path:"cancel/:guid/:email",element:i.a.createElement(Xt,null)}),i.a.createElement(m.b,{exact:!0,path:"upload/:uuid",element:i.a.createElement(Zt,null)}))))},ea=c()(window,"tesla.App.sentry_dsn",null),ta=c()(window,"tesla.App.sentry_env","production");ea&&s.a({dsn:ea,maxBreadcrumbs:50,environment:ta,integrations:[new u.a.Breadcrumbs({console:!1})]}),r.a.render(i.a.createElement($t,null),document.getElementById("root"))},49:function(e,t,a){e.exports=a.p+"static/media/icon-success.4e68db03.png"},85:function(e,t,a){e.exports=a.p+"static/media/ID_Front.edaf40be.png"},86:function(e,t,a){e.exports=a.p+"static/media/ID_Back.464fd2ba.png"}},[[170,1,2]]]);
//# sourceMappingURL=main.fda3ca24.chunk.js.map